/*
	Copyright (c) 2004-2007, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/book/dojo-book-0-9/introduction/licensing
*/


if(!dojo._hasResource["dojo._firebug.firebug"]){dojo._hasResource["dojo._firebug.firebug"]=true;dojo.provide("dojo._firebug.firebug");dojo.deprecated=function(_1,_2,_3){var _4="DEPRECATED: "+_1;if(_2){_4+=" "+_2;}if(_3){_4+=" -- will be removed in version: "+_3;}console.debug(_4);};dojo.experimental=function(_5,_6){var _7="EXPERIMENTAL: "+_5+" -- APIs subject to change without notice.";if(_6){_7+=" "+_6;}console.debug(_7);};if(((!("console" in window))||(!("firebug" in console)))&&((djConfig["noFirebugLite"]!==true))){(function(){try{if(window!=window.parent){if(window.parent["console"]){window.console=window.parent.console;}return;}}catch(e){}window.console={log:function(){logFormatted(arguments,"");},debug:function(){logFormatted(arguments,"debug");},info:function(){logFormatted(arguments,"info");},warn:function(){logFormatted(arguments,"warning");},error:function(){logFormatted(arguments,"error");},assert:function(_8,_9){if(!_8){var _a=[];for(var i=1;i<arguments.length;++i){_a.push(arguments[i]);}logFormatted(_a.length?_a:["Assertion Failure"],"error");throw _9?_9:"Assertion Failure";}},dir:function(_c){var _d=[];var _e=[];for(var _f in _c){try{_e.push([_f,_c[_f]]);}catch(e){}}_e.sort(function(a,b){return a[0]<b[0]?-1:1;});_d.push("<table>");for(var i=0;i<_e.length;++i){var _f=_e[i][0],_13=_e[i][1];_d.push("<tr>","<td class=\"propertyNameCell\"><span class=\"propertyName\">",escapeHTML(_f),"</span></td>","<td><span class=\"propertyValue\">");appendObject(_13,_d);_d.push("</span></td></tr>");}_d.push("</table>");logRow(_d,"dir");},dirxml:function(_14){var _15=[];appendNode(_14,_15);logRow(_15,"dirxml");},group:function(){logRow(arguments,"group",pushGroup);},groupEnd:function(){logRow(arguments,"",popGroup);},time:function(_16){_17[_16]=(new Date()).getTime();},timeEnd:function(_18){if(_18 in _17){var _19=(new Date()).getTime()-_17[_18];logFormatted([_18+":",_19+"ms"]);delete _17[_18];}},count:function(){this.warn(["count() not supported."]);},trace:function(){this.warn(["trace() not supported."]);},profile:function(){this.warn(["profile() not supported."]);},profileEnd:function(){},clear:function(){_1a.innerHTML="";},open:function(){toggleConsole(true);},close:function(){if(_1b){toggleConsole();}},closeObjectInspector:function(){consoleObjectInspector.innerHTML="";consoleObjectInspector.style.display="none";_1a.style.display="block";}};var _1c=document;var _1d=window;var _1e=0;var _1f=null;var _1a=null;var _20=null;var _1b=false;var _21=[];var _22=[];var _17={};var _23=">>> ";function toggleConsole(_24){_1b=_24||!_1b;if(_1f){_1f.style.display=_1b?"block":"none";}};function focusCommandLine(){toggleConsole(true);if(_20){_20.focus();}};openWin=function(){var win=window.open("","_firebug","status=0,menubar=0,resizable=1,width=640,height=480,scrollbars=1,addressbar=0");var _26=win.document;HTMLstring="<html><head><title>Firebug Lite</title></head>\n";HTMLstring+="<body bgColor=\"#CCCCCC\">\n";HTMLstring+="<div id=\"fb\"></div>";HTMLstring+="</body></html>";_26.write(HTMLstring);_26.close();return win;};function createFrame(){if(_1f){return;}if(djConfig.popup){_1d=openWin();_1c=_1d.document;djConfig.debugContainerId="fb";var _27="100%";_1d.console=window.console;_1d.dojo=window.dojo;}else{_1c=document;var _27=(djConfig.debugHeight)?djConfig.debugHeight+"px":"300px";}var _28=_1c.createElement("link");_28.href=dojo.moduleUrl("dojo._firebug","firebug.css");_28.rel="stylesheet";_28.type="text/css";var _29=_1c.getElementsByTagName("head");if(_29){_29=_29[0];}if(!_29){_29=_1c.getElementsByTagName("html")[0];}if(dojo.isIE){window.setTimeout(function(){_29.appendChild(_28);},0);}else{_29.appendChild(_28);}if(typeof djConfig!="undefined"&&djConfig["debugContainerId"]){_1f=_1c.getElementById(djConfig.debugContainerId);}if(!_1f){_1f=_1c.createElement("div");_1c.body.appendChild(_1f);}_1f.className+=" firebug";_1f.style.height=_27;_1f.style.display=(_1b?"block":"none");var _2a=(djConfig.popup)?"":"    <a href=\"#\" onclick=\"console.close(); return false;\">Close</a>";_1f.innerHTML="<div id=\"firebugToolbar\">"+"  <a href=\"#\" onclick=\"console.clear(); return false;\">Clear</a>"+"  <span class=\"firebugToolbarRight\">"+_2a+"  </span>"+"</div>"+"<input type=\"text\" id=\"firebugCommandLine\">"+"<div id=\"firebugLog\"></div>"+"<div id=\"objectLog\" style=\"display:none;\"></div>";var _2b=_1c.getElementById("firebugToolbar");_2b.onmousedown=onSplitterMouseDown;_20=_1c.getElementById("firebugCommandLine");addEvent(_20,"keydown",onCommandLineKeyDown);addEvent(_1c,dojo.isIE||dojo.isSafari?"keydown":"keypress",onKeyDown);_1a=_1c.getElementById("firebugLog");consoleObjectInspector=_1c.getElementById("objectLog");layout();flush();};dojo.addOnLoad(createFrame);function evalCommandLine(){var _2c=_20.value;_20.value="";logRow([_23,_2c],"command");var _2d;try{_2d=eval(_2c);}catch(e){console.debug(e);}console.log(_2d);};function layout(){var _2e=_1a.ownerDocument.getElementById("firebugToolbar");var _2f=_1f.offsetHeight-(_2e.offsetHeight+_20.offsetHeight);_1a.style.top=_2e.offsetHeight+"px";_1a.style.height=_2f+"px";_20.style.top=(_1f.offsetHeight-_20.offsetHeight)+"px";};function logRow(_30,_31,_32){if(_1a){writeMessage(_30,_31,_32);}else{_21.push([_30,_31,_32]);}};function flush(){var _33=_21;_21=[];for(var i=0;i<_33.length;++i){writeMessage(_33[i][0],_33[i][1],_33[i][2]);}};function writeMessage(_35,_36,_37){var _38=_1a.scrollTop+_1a.offsetHeight>=_1a.scrollHeight;_37=_37||writeRow;_37(_35,_36);if(_38){_1a.scrollTop=_1a.scrollHeight-_1a.offsetHeight;}};function appendRow(row){var _3a=_22.length?_22[_22.length-1]:_1a;_3a.appendChild(row);};function writeRow(_3b,_3c){var row=_1a.ownerDocument.createElement("div");row.className="logRow"+(_3c?" logRow-"+_3c:"");row.innerHTML=_3b.join("");appendRow(row);};function pushGroup(_3e,_3f){logFormatted(_3e,_3f);var _40=_1a.ownerDocument.createElement("div");_40.className="logGroup";var _41=_1a.ownerDocument.createElement("div");_41.className="logGroupBox";_40.appendChild(_41);appendRow(_41);_22.push(_41);};function popGroup(){_22.pop();};function logFormatted(_42,_43){var _44=[];var _45=_42[0];var _46=0;if(typeof (_45)!="string"){_45="";_46=-1;}var _47=parseFormat(_45);for(var i=0;i<_47.length;++i){var _49=_47[i];if(_49&&typeof (_49)=="object"){var _4a=_42[++_46];_49.appender(_4a,_44);}else{appendText(_49,_44);}}var ids=[];var obs=[];for(var i=_46+1;i<_42.length;++i){appendText(" ",_44);var _4a=_42[i];if(!_4a){continue;}if(typeof (_4a)=="string"){appendText(_4a,_44);}else{if(_4a.nodeType==1){appendText("< "+_4a.tagName+" id=\""+_4a.id+"\" />",_44);}else{var id="_a"+_1e++;ids.push(id);obs.push(_4a);var str="<a id=\""+id+"\" href=\"javascript:void(0);\">"+getObjectAbbr(_4a)+"</a>";appendLink(str,_44);}}}logRow(_44,_43);for(var i=0;i<ids.length;i++){var btn=_1c.getElementById(ids[i]);if(!btn){continue;}btn.obj=obs[i];dojo.connect(btn,"onclick",function(){_1a.style.display="none";consoleObjectInspector.style.display="block";var _50="<a href=\"javascript:console.closeObjectInspector();\">&nbsp;<<&nbsp;Back</a>";consoleObjectInspector.innerHTML=_50+"<pre>"+printObject(this.obj)+"</pre>";});}};function parseFormat(_51){var _52=[];var reg=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/;var _54={s:appendText,d:appendInteger,i:appendInteger,f:appendFloat};for(var m=reg.exec(_51);m;m=reg.exec(_51)){var _56=m[8]?m[8]:m[5];var _57=_56 in _54?_54[_56]:appendObject;var _58=m[3]?parseInt(m[3]):(m[4]=="."?-1:0);_52.push(_51.substr(0,m[0][0]=="%"?m.index:m.index+1));_52.push({appender:_57,precision:_58});_51=_51.substr(m.index+m[0].length);}_52.push(_51);return _52;};function escapeHTML(_59){function replaceChars(ch){switch(ch){case "<":return "&lt;";case ">":return "&gt;";case "&":return "&amp;";case "'":return "&#39;";case "\"":return "&quot;";}return "?";};return String(_59).replace(/[<>&"']/g,replaceChars);};function objectToString(_5b){try{return _5b+"";}catch(e){return null;}};function appendLink(_5c,_5d){_5d.push(objectToString(_5c));};function appendText(_5e,_5f){_5f.push(escapeHTML(objectToString(_5e)));};function appendNull(_60,_61){_61.push("<span class=\"objectBox-null\">",escapeHTML(objectToString(_60)),"</span>");};function appendString(_62,_63){_63.push("<span class=\"objectBox-string\">&quot;",escapeHTML(objectToString(_62)),"&quot;</span>");};function appendInteger(_64,_65){_65.push("<span class=\"objectBox-number\">",escapeHTML(objectToString(_64)),"</span>");};function appendFloat(_66,_67){_67.push("<span class=\"objectBox-number\">",escapeHTML(objectToString(_66)),"</span>");};function appendFunction(_68,_69){var _6a=/function ?(.*?)\(/;var m=_6a.exec(objectToString(_68));var _6c=m?m[1]:"function";_69.push("<span class=\"objectBox-function\">",escapeHTML(_6c),"()</span>");};function appendObject(_6d,_6e){try{if(_6d==undefined){appendNull("undefined",_6e);}else{if(_6d==null){appendNull("null",_6e);}else{if(typeof _6d=="string"){appendString(_6d,_6e);}else{if(typeof _6d=="number"){appendInteger(_6d,_6e);}else{if(typeof _6d=="function"){appendFunction(_6d,_6e);}else{if(_6d.nodeType==1){appendSelector(_6d,_6e);}else{if(typeof _6d=="object"){appendObjectFormatted(_6d,_6e);}else{appendText(_6d,_6e);}}}}}}}}catch(e){}};function appendObjectFormatted(_6f,_70){var _71=objectToString(_6f);var _72=/\[object (.*?)\]/;var m=_72.exec(_71);_70.push("<span class=\"objectBox-object\">",m?m[1]:_71,"</span>");};function appendSelector(_74,_75){_75.push("<span class=\"objectBox-selector\">");_75.push("<span class=\"selectorTag\">",escapeHTML(_74.nodeName.toLowerCase()),"</span>");if(_74.id){_75.push("<span class=\"selectorId\">#",escapeHTML(_74.id),"</span>");}if(_74.className){_75.push("<span class=\"selectorClass\">.",escapeHTML(_74.className),"</span>");}_75.push("</span>");};function appendNode(_76,_77){if(_76.nodeType==1){_77.push("<div class=\"objectBox-element\">","&lt;<span class=\"nodeTag\">",_76.nodeName.toLowerCase(),"</span>");for(var i=0;i<_76.attributes.length;++i){var _79=_76.attributes[i];if(!_79.specified){continue;}_77.push("&nbsp;<span class=\"nodeName\">",_79.nodeName.toLowerCase(),"</span>=&quot;<span class=\"nodeValue\">",escapeHTML(_79.nodeValue),"</span>&quot;");}if(_76.firstChild){_77.push("&gt;</div><div class=\"nodeChildren\">");for(var _7a=_76.firstChild;_7a;_7a=_7a.nextSibling){appendNode(_7a,_77);}_77.push("</div><div class=\"objectBox-element\">&lt;/<span class=\"nodeTag\">",_76.nodeName.toLowerCase(),"&gt;</span></div>");}else{_77.push("/&gt;</div>");}}else{if(_76.nodeType==3){_77.push("<div class=\"nodeText\">",escapeHTML(_76.nodeValue),"</div>");}}};function addEvent(_7b,_7c,_7d){if(document.all){_7b.attachEvent("on"+_7c,_7d);}else{_7b.addEventListener(_7c,_7d,false);}};function removeEvent(_7e,_7f,_80){if(document.all){_7e.detachEvent("on"+_7f,_80);}else{_7e.removeEventListener(_7f,_80,false);}};function cancelEvent(_81){if(document.all){_81.cancelBubble=true;}else{_81.stopPropagation();}};function onError(msg,_83,_84){var _85=[];var _86=_83.lastIndexOf("/");var _87=_86==-1?_83:_83.substr(_86+1);_85.push("<span class=\"errorMessage\">",msg,"</span>","<div class=\"objectBox-sourceLink\">",_87," (line ",_84,")</div>");logRow(_85,"error");};var _88=(new Date()).getTime();function onKeyDown(_89){var _8a=(new Date()).getTime();if(_8a>_88+200){var _89=dojo.fixEvent(_89);var _8b=dojo.keys;var ekc=_89.keyCode;_88=_8a;if(ekc==_8b.F12){toggleConsole();}else{if((ekc==_8b.NUMPAD_ENTER||ekc==76)&&_89.shiftKey&&(_89.metaKey||_89.ctrlKey)){focusCommandLine();}else{return;}}cancelEvent(_89);}};function onSplitterMouseDown(_8d){if(dojo.isSafari||dojo.isOpera){return;}addEvent(document,"mousemove",onSplitterMouseMove);addEvent(document,"mouseup",onSplitterMouseUp);for(var i=0;i<frames.length;++i){addEvent(frames[i].document,"mousemove",onSplitterMouseMove);addEvent(frames[i].document,"mouseup",onSplitterMouseUp);}};function onSplitterMouseMove(_8f){var win=document.all?_8f.srcElement.ownerDocument.parentWindow:_8f.target.ownerDocument.defaultView;var _91=_8f.clientY;if(win!=win.parent){_91+=win.frameElement?win.frameElement.offsetTop:0;}var _92=_1f.offsetTop+_1f.clientHeight;var y=_92-_91;_1f.style.height=y+"px";layout();};function onSplitterMouseUp(_94){removeEvent(document,"mousemove",onSplitterMouseMove);removeEvent(document,"mouseup",onSplitterMouseUp);for(var i=0;i<frames.length;++i){removeEvent(frames[i].document,"mousemove",onSplitterMouseMove);removeEvent(frames[i].document,"mouseup",onSplitterMouseUp);}};function onCommandLineKeyDown(_96){if(_96.keyCode==13){evalCommandLine();}else{if(_96.keyCode==27){_20.value="";}}};getAtts=function(o){if(dojo.isArray(o)){return "[array with "+o.length+" slots]";}else{var i=0;for(var nm in o){i++;}return "{object with "+i+" items}";}};printObject=function(o,i,txt){var br="\n";var ind="  ";txt=(txt)?txt:"";i=(i)?i:ind;for(var nm in o){if(typeof (o[nm])=="object"){txt+=i+nm+" -> "+getAtts(o[nm])+br;txt+=printObject(o[nm],i+ind);}else{txt+=i+nm+" : "+o[nm]+br;}}return txt;};getObjectAbbr=function(obj){var _a1=(obj instanceof Error);var nm=obj.id||obj.name||obj.ObjectID||obj.widgetId;if(!_a1&&nm){return "{"+nm+"}";}var _a3=2;var _a4=4;var cnt=0;if(_a1){nm="[ Error: "+(obj["message"]||obj["description"]||obj)+" ]";}else{if(dojo.isArray(obj)){nm="[";for(var i=0;i<obj.length;i++){nm+=obj[i]+",";if(i>_a4){nm+=" ... ("+obj.length+" items)";break;}}nm+="]";}else{if((!dojo.isObject(obj))||dojo.isString(obj)){nm=obj+"";}else{nm="{";for(var i in obj){cnt++;if(cnt>_a3){break;}nm+=i+"="+obj[i]+"  ";}nm+="}";}}}return nm;};window.onerror=onError;addEvent(document,dojo.isIE||dojo.isSafari?"keydown":"keypress",onKeyDown);if((document.documentElement.getAttribute("debug")=="true")||(djConfig.isDebug)){toggleConsole(true);}})();}}