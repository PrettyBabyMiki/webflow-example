<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
                xmlns:sf="http://www.springframework.org/tags/faces"
				template="/WEB-INF/layouts/standard.xhtml">

<ui:define name="content">

	<div class="span-5">
		<h3>${booking.hotel.name}</h3>
		<address>
			${booking.hotel.address}
			<br/>
			${booking.hotel.city}, ${booking.hotel.state}, ${booking.hotel.zip}
			<br/>
			${booking.hotel.country}
		</address>
	</div>
	<div class="span-12">
		<ui:fragment id="messages">
			<div id="messagesInsertionPoint">
				<h:messages errorClass="error" layout="table"/>
			</div>
		</ui:fragment>
		<h:form id="bookingForm">
			<fieldset>
				<legend>Book Hotel</legend>
				<div>
					<div class="span-4 label">
						Nightly rate:	
					</div>
					<div class="span-7 last">
						<p>
							<h:outputText value="#{booking.hotel.price}">
								<f:convertNumber type="currency" currencySymbol="$"/>
							</h:outputText>
						</p>
					</div>					
				</div>
				<div>
					<div class="span-4">
						<h:outputLabel for="checkinDate">Check In:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<sf:clientDateValidator required="true">
					        	<h:inputText id="checkinDate" value="#{booking.checkinDate}" required="true">
				                	<f:convertDateTime pattern="MM-dd-yyyy" timeZone="EST"/>
				                </h:inputText>
			               	</sf:clientDateValidator>
		               	</p>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="checkoutDate">Check Out:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<sf:clientDateValidator required="true">
								<h:inputText id="checkoutDate" value="#{booking.checkoutDate}" required="true">
									<f:convertDateTime pattern="MM-dd-yyyy" timeZone="EST"/>
								</h:inputText>
							</sf:clientDateValidator>
						</p>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="beds">Room Preference:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<h:selectOneMenu id="beds" value="#{booking.beds}">
								<f:selectItems value="#{referenceData.bedOptions}"/>
							</h:selectOneMenu>
						</p>	
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="smoking">Smoking Preference:</h:outputLabel>
					</div>
					<div id="radio" class="span-7 last">
						<h:selectOneRadio id="smoking" value="#{booking.smoking}" layout="pageDirection">
							<f:selectItems value="#{referenceData.smokingOptions}"/>
						</h:selectOneRadio>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="amenities">Amenities:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<h:selectManyCheckbox id="amenities" value="#{booking.amenities}" layout="pageDirection">
							<f:selectItem itemValue="OCEAN_VIEW" itemLabel="Ocean View" />
							<f:selectItem itemValue="LATE_CHECKOUT" itemLabel="Late Checkout" />
							<f:selectItem itemValue="MINIBAR" itemLabel="Minibar" />
						</h:selectManyCheckbox>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="creditCard">Credit Card #:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<sf:clientTextValidator required="true" regExp="[0-9]{16}" invalidMessage="A 16-digit credit card number is required.">
								<h:inputText id="creditCard" value="#{booking.creditCard}" required="true"/>
							</sf:clientTextValidator>
						</p>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="creditCardName">Credit Card Name:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<sf:clientTextValidator required="true">
								<h:inputText id="creditCardName" value="#{booking.creditCardName}" required="true"/>
							</sf:clientTextValidator>
						</p>
					</div>
				</div>
				<div class="field">
					<div class="span-4">
						<h:outputLabel for="creditCardExpiryMonth">Expiration Date:</h:outputLabel>
					</div>
					<div class="span-7 last">
						<p>
							<h:selectOneMenu id="creditCardExpiryMonth" value="#{booking.creditCardExpiryMonth}">
								<f:selectItems value="#{referenceData.creditCardExpMonths}" />
							</h:selectOneMenu>
							<h:selectOneMenu id="creditCardExpiryYear" value="#{booking.creditCardExpiryYear}">
								<f:selectItems value="#{referenceData.creditCardExpYears}"/>
							</h:selectOneMenu>
						</p>
					</div>
				</div>
				<div>
					<sf:validateAllOnClick>
						<sf:commandButton id="proceed" action="proceed" processIds="*" value="Proceed"/>&#160;
					</sf:validateAllOnClick>
					<sf:commandButton id="cancel" value="Cancel" action="cancel"/>
				</div>		
			</fieldset>
		</h:form>
	</div>
	
</ui:define>
</ui:composition>